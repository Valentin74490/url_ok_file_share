<h1 class="text-2xl font-bold mb-4">Modifier l'utilisateur <%= @user.firstname %> <%= @user.name %></h1>

<%= simple_form_for @user, html: { multipart: true } do |f| %>
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">

    <%= f.input :name,
                label: "Nom",
                input_html: { class: "border border-gray-300 p-2 rounded-lg w-full" },
                label_html: { class: "block text-sm font-medium text-gray-700 mb-1" } %>

    <%= f.input :firstname,
                label: "Prénom",
                input_html: { class: "border border-gray-300 p-2 rounded-lg w-full" },
                label_html: { class: "block text-sm font-medium text-gray-700 mb-1" } %>

    <%= f.input :phone,
                label: "Téléphone",
                input_html: { class: "border border-gray-300 p-2 rounded-lg w-full" },
                label_html: { class: "block text-sm font-medium text-gray-700 mb-1" } %>

    <%= f.input :linkedin_url,
                label: "Profil LinkedIn",
                input_html: { class: "border border-gray-300 p-2 rounded-lg w-full" },
                label_html: { class: "block text-sm font-medium text-gray-700 mb-1" } %>

    <%= f.input :facebook_url,
                label: "Profil Facebook",
                input_html: { class: "border border-gray-300 p-2 rounded-lg w-full" },
                label_html: { class: "block text-sm font-medium text-gray-700 mb-1" } %>

    <%= f.input :whatsapp_number,
                label: "Numéro WhatsApp",
                input_html: { class: "border border-gray-300 p-2 rounded-lg w-full" },
                label_html: { class: "block text-sm font-medium text-gray-700 mb-1" } %>

    <%= f.input :user_company,
                label: "Entreprise",
                input_html: { class: "border border-gray-300 p-2 rounded-lg w-full", placeholder: "Nom de l'entreprise" },
                label_html: { class: "block text-sm font-medium text-gray-700 mb-1" } %>

    <%= f.input :user_email,
                label: "Email",
                input_html: { class: "border border-gray-300 p-2 rounded-lg w-full", type: "email", placeholder: "email@example.com" },
                label_html: { class: "block text-sm font-medium text-gray-700 mb-1" } %>

    <%= f.input :user_post,
                label: "Poste",
                input_html: { class: "border border-gray-300 p-2 rounded-lg w-full", placeholder: "Poste occupé" },
                label_html: { class: "block text-sm font-medium text-gray-700 mb-1" } %>

    <%= f.input :user_presentation,
                label: "Présentation",
                as: :text,
                input_html: { class: "border border-gray-300 p-2 rounded-lg w-full", rows: 5, placeholder: "Quelques mots sur vous" },
                label_html: { class: "block text-sm font-medium text-gray-700 mb-1" } %>

    <!-- Input pour le logo de l'entreprise -->
    <%= f.input :user_logo,
                label: "Logo de l'entreprise",
                as: :file,
                input_html: { class: "border border-gray-300 p-2 rounded-lg w-full" },
                label_html: { class: "block text-sm font-medium text-gray-700 mb-1" } %>

    <!-- Affichage du logo si déjà attaché -->
    <% if @user.user_logo.attached? %>
      <div class="col-span-2">
        <%= image_tag url_for(@user.user_logo), class: "w-32 h-32 rounded-full object-cover mt-2" %>
      </div>
    <% end %>

    <!-- Input pour la photo de profil -->
    <%= f.input :photo,
                label: "Photo de profil",
                as: :file,
                input_html: { class: "border border-gray-300 p-2 rounded-lg w-full" },
                label_html: { class: "block text-sm font-medium text-gray-700 mb-1" } %>

    <!-- Affichage de la photo de profil si déjà attachée -->
    <% if @user.photo.attached? %>
      <div class="col-span-2">
        <%= image_tag url_for(@user.photo), class: "w-32 h-32 rounded-full object-cover mt-2" %>
      </div>
    <% end %>

    <%= f.input :fiche_contact_url,
                label: "Fiche de contact (URL)",
                input_html: { class: "border border-gray-300 p-2 rounded-lg w-full" },
                label_html: { class: "block text-sm font-medium text-gray-700 mb-1" } %>

    <%= f.input :address,
                label: "Adresse",
                input_html: { class: "border border-gray-300 p-2 rounded-lg w-full" },
                label_html: { class: "block text-sm font-medium text-gray-700 mb-1" } %>

  </div>

  <div class="mt-4">
    <%= f.button :submit,
                 "Mettre à jour l'utilisateur",
                 class: "bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded w-full" %>
  </div>
<% end %>
